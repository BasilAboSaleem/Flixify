<!DOCTYPE html>
<html lang="en">

<%- include('../../partials/front/head.ejs') %>
<body class="body">
	
	<!-- header -->
	<%- include('../../partials/front/header.ejs') %>
	<!-- end header -->

	<!-- page title -->
	<section class="section section--first section--bg" data-bg="/front/img/section/section.jpg">
		<div class="container">
			<div class="row">
				<div class="col-12">
					<div class="section__wrap">
						<h2 class="section__title">All Movies</h2>
						<ul class="breadcrumb">
							<li class="breadcrumb__item"><a href="/">Home</a></li>
							<li class="breadcrumb__item breadcrumb__item--active">Catalog</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- end page title -->

	<!-- catalog -->
	<div class="catalog">
		<div class="container">
			<div class="row">
				<% if (movies.length > 0) { %>
					<% movies.forEach(movie => { %>
						<div class="col-6 col-sm-4 col-lg-3 col-xl-2">
							<div class="card">
								<div class="card__cover">
									<img src="<%= movie.posterUrl %>" alt="<%= movie.title %>">
									<a href="/movies/<%= movie.tmdbId %>" class="card__play">
										<i class="icon ion-ios-play"></i>
									</a>
								</div>
								<div class="card__content">
									<h3 class="card__title">
										<a href="/movies/<%= movie.tmdbId %>"><%= movie.title %></a>
									</h3>
									<span class="card__category">
										<% movie.genres.forEach(genre => { %>
											<a href="/catalog?genre=<%= genre %>"><%= genre %></a>
										<% }) %>
									</span>
									<span class="card__rate">
										<i class="icon ion-ios-star"></i><%= movie.rating %>
									</span>
								</div>
							</div>
						</div>
					<% }) %>
				<% } else { %>
					<div class="col-12">
						<p>No movies found.</p>
					</div>
				<% } %>
			</div>
		</div>
	</div>
	<!-- end catalog -->

	<!-- expected premiere -->
	<% if (expectedPremiere.length > 0) { %>
	<section class="section section--bg" data-bg="/front/img/section/section.jpg">
		<div class="container">
			<div class="row">
				<div class="col-12">
					<h2 class="section__title">Expected Premiere</h2>
				</div>

				<% expectedPremiere.forEach(movie => { %>
					<div class="col-6 col-sm-4 col-lg-3 col-xl-2">
						<div class="card">
							<div class="card__cover">
								<img src="<%= movie.posterUrl %>" alt="<%= movie.title %>">
								<a href="/movies/<%= movie.tmdbId %>" class="card__play">
									<i class="icon ion-ios-play"></i>
								</a>
							</div>
							<div class="card__content">
								<h3 class="card__title">
									<a href="/movies/<%= movie.tmdbId %>"><%= movie.title %></a>
								</h3>
								<span class="card__category">
									<% movie.genres.forEach(genre => { %>
										<a href="/catalog?genre=<%= genre %>"><%= genre %></a>
									<% }) %>
								</span>
								<span class="card__rate">
									<i class="icon ion-ios-star"></i><%= movie.rating %>
								</span>
							</div>
						</div>
					</div>
				<% }) %>

				<div class="col-12">
					<a href="/catalog?category=coming_soon" class="section__btn">Show more</a>
				</div>
			</div>
		</div>
	</section>
	<% } %>
	<!-- end expected premiere -->

	<!-- footer -->
	<%- include('../../partials/front/footer.ejs') %>
	<!-- end footer -->

	<!-- JS -->
	<%- include('../../partials/front/script.ejs') %>
</body>
</html>
